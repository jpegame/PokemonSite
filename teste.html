<!DOCTYPE html>
<html>
<head>
  <title>JSON Tree Visualization</title>
  <style>
    .node circle {
      fill: #fff;
      stroke: steelblue;
      stroke-width: 1.5px;
    }

    .node text {
      font-size: 14px;
      font-family: sans-serif;
    }

    .link {
      fill: none;
      stroke: #ccc;
      stroke-width: 1px;
    }
  </style>
</head>
<body>
  <svg width="800" height="600"></svg>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script>
    // Read the JSON data
    d3.json('foda.json')
      .then(function(data) {
        // Create a tree layout
        var treeLayout = d3.tree().size([800, 500]);

        // Create a hierarchy from the JSON data
        var root = d3.hierarchy(data);

        // Assign coordinates to each node
        treeLayout(root);

        // Create an SVG container
        var svg = d3.select("svg");

        // Create links between the nodes
        svg.selectAll(".link")
          .data(root.links())
          .enter().append("path")
          .attr("class", "link")
          .attr("d", d3.linkHorizontal()
            .x(function(d) { return d.y; })
            .y(function(d) { return d.x; }));

        // Create the nodes
        var nodes = svg.selectAll(".node")
          .data(root.descendants())
          .enter().append("g")
          .attr("class", "node")
          .attr("transform", function(d) {
            return "translate(" + d.y + "," + d.x + ")";
          });

        // Create node circles
        nodes.append("circle")
          .attr("r", 4.5);

        // Add node labels
        nodes.append("text")
          .attr("dy", ".31em")
          .attr("x", function(d) { return d.children ? -6 : 6; })
          .style("text-anchor", function(d) { return d.children ? "end" : "start"; })
          .text(function(d) { return d.data.name; });
      })
      .catch(function(error) {
        console.error(error);
      });
  </script>
</body>
</html>
